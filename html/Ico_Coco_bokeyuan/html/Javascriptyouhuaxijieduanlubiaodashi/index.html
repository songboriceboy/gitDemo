<!DOCTYPE html>

<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="QQ空间，新浪博客，宝宝树博客，豆瓣日记，天涯博客，简书，博客园，和讯博客，CSDN博客，Iteye博客，搜狐博客，51CTO,Iteye,Itpub,ChinaUnix" />
        <meta name="keywords" content="QQ空间，新浪博客，宝宝树博客，豆瓣日记，天涯博客，简书，博客园，和讯博客，CSDN博客，Iteye博客，搜狐博客，51CTO,Iteye,Itpub,ChinaUnix" />

        <title>博客备份专家博客备份演示站</title>
        <style type='text/css'>
            body {
                background-color: #CCC;
            }
        </style>
        <link rel="stylesheet" href="../../../../css/bootstrap.css" />
        <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"tiantiancode"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
    </head>

    <body>
        <div class="container">

            <h1>博客备份专家博客备份演示站</h1>

            <div class='navbar navbar-inverse'>
                <div class='navbar-inner nav-collapse' style="height: auto;">
                    <ul class="nav">
                              				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/index.html">Ico_Coco_博客园</a></li>
    				                      </ul>
                </div>
            </div>

            <div id='content' class='row-fluid'>

                <div class='span9 main'>
                <ul class="breadcrumb">
                    <li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/index.html">Ico_Coco_博客园</a> <span class="divider">/</span></li>
                    <li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/index.html">html</a> <span class="divider">/</span></li>
                    <li class="active">Javascript优化细节：短路表达式</li>
                </ul>
           <ul class="pager">
  <li class="previous"><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/Javascriptzhengzegouzaohanshuyuzhengzebiaodazimianliang&&changyongzhengzebiaodashi/index.html">&larr; Javascript正则构造函数与正则表达字面量&&常用正则表达式</a></li>
  <li class="next"><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/Javascriptzhengzegouzaohanshuyuzhengzebiaodazimianliang&&changyongzhengzebiaodashi/index.html">javascript中函数声明和函数表达式浅析 &rarr;</a></li>
</ul>
				<div style="color:blue" align=center>Javascript优化细节：短路表达式</div><br><p><span style="font-size: 14px;">　　什么是短路表达式？</span></p>
<p><span style="font-size: 14px;">　　短路表达式：</span><strong>作为"&amp;&amp;"和"||"操作符的操作数表达式，这些表达式在进行求值时，只要最终的结果已经可以确定是真或假，求值过程便告终止，这称之为短路求值。这是这两个操作符的一个重要属性。</strong></p>
<p>　　一个最简单的例子：</p>
<div class="cnblogs_Highlighter">
<pre class="brush:javascript;gutter:true;">foo = foo||bar;
</pre>
</div>
<p>　　这行代码是什么意思？答案：</p>
<div class="cnblogs_Highlighter">
<pre class="brush:javascript;gutter:true;">//如果foo存在，值不变，否则把bar的值赋给foo
if(!foo) 
    foo = bar;
</pre>
</div>
<p>　　在javascript的逻辑运算中，0、""、null、false、undefined、NaN都会判定为false，而其他都为true。所以在上式的foo = foo||bar;中，||先计算第一个运算数，如果可以被转换成true，也就是表示foo已经存在有值，那么返回左边这个表达式的值，否则计算第二个运算数bar。</p>
<p>　　另外，即使||运算符的运算数不是布尔值，仍然可以将它看作布尔OR运算，因为无论它返回的值是什么类型，都可以被转换为布尔值。</p>
<p>　　当然，使用如下做法会更加严谨：&nbsp;</p>
<div class="cnblogs_Highlighter">
<pre class="brush:javascript;gutter:true;">if(foo)      //不够严谨

if(!!foo)    //更为严谨，!!可将其他类型的值转换为boolean类型
</pre>
</div>
<p>　　可以测试一下：</p>
<div class="cnblogs_Highlighter">
<pre class="brush:javascript;gutter:true;">var foo; 
var number = 1;
var string = "string";
var obj = {};
var arr = [];


console.log(typeof(foo));  // undefined
console.log(typeof(number));　　//number
console.log(typeof(string));　　//string
console.log(typeof(obj));　　//object　　
console.log(typeof(arr));　　//object

console.log(typeof(!!foo));  // boolean
console.log(typeof(!!number));　　//boolean
console.log(typeof(!!string));　　//boolean
console.log(typeof(!!obj));　　//boolean
console.log(typeof(!!arr));　　//boolean
</pre>
</div>
<p>　　</p>
<p>　　利用这一点可以很好的符合，<span style="color: #000000;">优化javascript工程</span>一文中提到的，使脚本少运行或者不运行，以达到优化javascript的目的。但是需要注意的是，这样写帮我们精简了代码的同时，也带来了代码可读性的降低的缺点。所以比较好的做好是添加是适当的注释。</p>
<p>　　更多优化方法可以参看我上一篇blog：<span style="color: #0000ff;"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/coco1s/p/3946435.html"><span style="color: #0000ff;">前端工程优化：javascript的优化小结</span></a></span>。</p>
                <ul class="pager">
  <li class="previous"><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/Javascriptzhengzegouzaohanshuyuzhengzebiaodazimianliang&&changyongzhengzebiaodashi/index.html">&larr; Javascript正则构造函数与正则表达字面量&&常用正则表达式</a></li>
  <li class="next"><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/Javascriptzhengzegouzaohanshuyuzhengzebiaodazimianliang&&changyongzhengzebiaodashi/index.html">javascript中函数声明和函数表达式浅析 &rarr;</a></li>
</ul>
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="33514739946484" data-title="Javascript优化细节：短路表达式" data-url="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/Javascriptyouhuaxijieduanlubiaodashi/index.html"></div>
<!-- 多说评论框 end -->
                </div>

                <div class='span3 sidebar'>
                    <h3>导航栏</h3>
                    <ul class="nav nav-tabs nav-stacked">
                             				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/wangyezhanshi/index.html">网页展示[1]</a></li>
    				          				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/qianduankuangjialeiku/index.html">前端框架类库[1]</a></li>
    				          				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/Javascriptyouhua/index.html">Javascript优化[1]</a></li>
    				          				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/index.html">html[19]</a></li>
    				          				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/Encourage/index.html">Encourage[2]</a></li>
    				                                         
                    </ul>

                    <section>
        <h3>最近评论</h3>
        <ul class="ds-recent-comments" data-num-items="10" data-show-avatars="0" data-show-time="0" data-show-title="0" data-show-admin="0" data-excerpt-length="18"></ul>
      </section>

                </div>
            </div>

        </div>
    </body>
</html>