<!DOCTYPE html>

<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="QQ空间，新浪博客，宝宝树博客，豆瓣日记，天涯博客，简书，博客园，和讯博客，CSDN博客，Iteye博客，搜狐博客，51CTO,Iteye,Itpub,ChinaUnix" />
        <meta name="keywords" content="QQ空间，新浪博客，宝宝树博客，豆瓣日记，天涯博客，简书，博客园，和讯博客，CSDN博客，Iteye博客，搜狐博客，51CTO,Iteye,Itpub,ChinaUnix" />

        <title>博客备份专家博客备份演示站</title>
        <style type='text/css'>
            body {
                background-color: #CCC;
            }
        </style>
        <link rel="stylesheet" href="../../../../css/bootstrap.css" />
        <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"tiantiancode"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
    </head>

    <body>
        <div class="container">

            <h1>博客备份专家博客备份演示站</h1>

            <div class='navbar navbar-inverse'>
                <div class='navbar-inner nav-collapse' style="height: auto;">
                    <ul class="nav">
                              				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/index.html">Ico_Coco_博客园</a></li>
    				                      </ul>
                </div>
            </div>

            <div id='content' class='row-fluid'>

                <div class='span9 main'>
                <ul class="breadcrumb">
                    <li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/index.html">Ico_Coco_博客园</a> <span class="divider">/</span></li>
                    <li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/index.html">html</a> <span class="divider">/</span></li>
                    <li class="active">Javascript正则构造函数与正则表达字面量&&常用正则表达式</li>
                </ul>
           <ul class="pager">
  <li class="previous"><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/HTMLzhonggoudushubiji&siweidaotu/index.html">&larr; 《HTML重构》读书笔记&思维导图</a></li>
  <li class="next"><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/HTMLzhonggoudushubiji&siweidaotu/index.html">Javascript优化细节：短路表达式 &rarr;</a></li>
</ul>
				<div style="color:blue" align=center>Javascript正则构造函数与正则表达字面量常用正则表达式</div><br><p><span style="font-size: 16px;">　　本文不讨论正则表达式入门，即如何使用正则匹配。讨论的是两种创建正则表达式的优劣和一些细节，最后给出一些常用正则匹配表达式。</span></p>
<p><span style="font-size: 16px;">　　Javascript中的正则表达式也是对象，我们可以使用两种方法创建正则表达式：</span></p>
<ul>
<li><span style="font-size: 16px;">使用new RegExp()构造函数</span></li>
<li><span style="font-size: 16px;">使用正则表达字面量</span></li>
</ul>
<p><span style="font-size: 16px;">　　先说结果，<strong>使用正则表达字面量的效率更高</strong>。</span></p>
<p><span style="font-size: 16px;">　　下面的示例代码演示了两种可用于创建正则表达式以匹配反斜杠的方法：</span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080;"> 1</span> <span style="color: #000000;">//正则表达字面量
</span><span style="color: #008080;"> 2</span> <span style="color: #000000;">var re = /\\/gm;
</span><span style="color: #008080;"> 3</span> 
<span style="color: #008080;"> 4</span> <span style="color: #000000;">//正则构造函数
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">var reg = new RegExp("\\\\","gm");
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #000000;">var foo = "abc\\123";　　//foo的值为"abc\123"
</span><span style="color: #008080;"> 8</span> 
<span style="color: #008080;"> 9</span> <span style="color: #000000;">console.log(re.test(foo));     //true
</span><span style="color: #008080;">10</span> console.log(reg.test(foo));    //true</pre>
</div>
<p><span style="font-size: 16px;">　　如上面的代码中可以看到，使用正则表达式字面量表示法时式子显得更加简短，而且不用按照类似类（class-like）的构造函数方式思考。</span></p>
<p><span style="font-size: 16px;">　　其次，在当使用构造函数的时候，在这里要使用四个反斜杠才能匹配单个反斜杠。这使得正则表达式模式显得更长，更加难以阅读和修改。正确来说，当使用RegExp()构造函数的时候，不仅需要转义引号（即\"表示"），并且通常还需要双反斜杠（即\\表示一个\）。</span></p>
<p><span style="font-size: 16px;">　　使用new RegExp()的原因之一在于，某些场景中无法事先确定模式，而只能在运行时以字符串方式创建。</span></p>
<p>　　</p>
<p><span style="font-size: 18pt; background-color: #99ccff;">　　RegExp直接量和对象的创建</span></p>
<p><span style="font-size: 16px;">　　值得注意的是，譬如程序运行时遇到直接量（初始化字面量表达式）诸如{} &amp; []的时候都会创建新的对象。比如在循环体内写var arr = []，则每次遍历都会创建一个新的数组。<span style="background-color: #99ccff;"><br></span></span></p>
<p><span style="font-size: 16px;">　　正则表达字面量则与此不同，ECMAScript3规定，字面量表达式在解析时只有一次创建了一个对象，同一段代码所表示的正则表达式字面量的每次运算都返回同一个对象。ECMAScript5规范则做了相反的规定，同一段代码所表示的正则表达式字面量每次运算都返回新对象。考虑下面的例子，在旧一些版本的浏览器与现代浏览器的运行结果不一致：</span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080;"> 1</span> <span style="color: #000000;">function getREG(){
</span><span style="color: #008080;"> 2</span> <span style="color: #000000;">    var re = /[a-z]/;
</span><span style="color: #008080;"> 3</span> <span style="color: #000000;">    re.foo = "bar";
</span><span style="color: #008080;"> 4</span> <span style="color: #000000;">    return re;   
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #000000;">var reg = getREG(),
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">    re2 = getREG;
</span><span style="color: #008080;"> 9</span> 
<span style="color: #008080;">10</span> <span style="color: #000000;">console.log(reg === re2); //在较低版本的浏览器（firefox3.6）中返回true，现代浏览器均返回false；
</span><span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span> <span style="color: #000000;">reg.foo="baz";
</span><span style="color: #008080;">13</span> console.log() //旧版本返回"baz",现代浏览器均返回"bar"</pre>
</div>
<p><span style="font-size: 16px;">　　最后需要说明的是，调用RegExp()时不使用new的行为与使用new的行为是相同的。</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 18pt; background-color: #99ccff;">　　常用正则表达式</span><span>　</span></p>
<p align="left"><span style="font-size: 16px;">　　1 Email地址：^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　2 域名：[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　3 InternetURL：[a-zA-z]+://[^\s]* 或 ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　4 手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$ （可能会有新增头部）</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　5 电话号码("XXX-XXXXXXX"、"XXXX-XXXXXXXX"、"XXX-XXXXXXX"、"XXX-XXXXXXXX"、"XXXXXXX"和"XXXXXXXX)：^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　6 国内电话号码(0511-4405222、021-87888822)：\d{3}-\d{8}|\d{4}-\d{7}</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　7 身份证号(15位、18位数字)：^\d{15}|\d{18}$</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　8 短身份证号码(数字、字母x结尾)：^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　9 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　10 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w{5,17}$</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　11 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$&nbsp;</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　12 日期格式：^\d{4}-\d{1,2}-\d{1,2}</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　13 一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　14 一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$</span></p>
<p><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　15 中文字符的正则表达式：[\u4e00-\u9fa5]</span></p>
<p align="left"><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　16 双字节字符：[^\x00-\xff]&nbsp;&nbsp;&nbsp; (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))</span></p>
<p align="left"><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　17 空白行的正则表达式：\n\s*\r&nbsp;&nbsp; ^[\s]*\n (可以用来删除空白行)</span></p>
<p align="left"><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　18 HTML标记的正则表达式：&lt;(\S*?)[^&gt;]*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt;&nbsp;&nbsp;&nbsp; (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)</span></p>
<p align="left"><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　19 首尾空白字符的正则表达式：^\s*|\s*$或(^\s*)|(\s*$)&nbsp;&nbsp;&nbsp; (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)</span></p>
<p align="left"><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　20 腾讯QQ号：[1-9][0-9]{4,}&nbsp;&nbsp;&nbsp; (腾讯QQ号从10000开始)</span></p>
<p align="left"><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　21&nbsp;中国邮政编码：[1-9]\d{5}(?!\d)&nbsp;&nbsp;&nbsp; (中国邮政编码为6位数字）</span></p>
<p align="left"><span style="font-size: 16px;">&nbsp;</span></p>
<p align="left"><span style="font-size: 16px;">　　22&nbsp;JS注释：((\/\*[\s\S]*?\*\/)|(\/\/.*$))</span></p>
<p align="left"><span style="font-size: 16px;">　　（持续更新...）</span></p>
<p>&nbsp;</p>
                <ul class="pager">
  <li class="previous"><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/HTMLzhonggoudushubiji&siweidaotu/index.html">&larr; 《HTML重构》读书笔记&思维导图</a></li>
  <li class="next"><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/HTMLzhonggoudushubiji&siweidaotu/index.html">Javascript优化细节：短路表达式 &rarr;</a></li>
</ul>
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="423747210117838" data-title="Javascript正则构造函数与正则表达字面量&&常用正则表达式" data-url="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/Javascriptzhengzegouzaohanshuyuzhengzebiaodazimianliang&&changyongzhengzebiaodashi/index.html"></div>
<!-- 多说评论框 end -->
                </div>

                <div class='span3 sidebar'>
                    <h3>导航栏</h3>
                    <ul class="nav nav-tabs nav-stacked">
                             				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/wangyezhanshi/index.html">网页展示[1]</a></li>
    				          				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/qianduankuangjialeiku/index.html">前端框架类库[1]</a></li>
    				          				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/Javascriptyouhua/index.html">Javascript优化[1]</a></li>
    				          				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/html/index.html">html[19]</a></li>
    				          				<li><a href="http://songboriceboy.github.io/gitDemo/html/Ico_Coco_bokeyuan/Encourage/index.html">Encourage[2]</a></li>
    				                                         
                    </ul>

                    <section>
        <h3>最近评论</h3>
        <ul class="ds-recent-comments" data-num-items="10" data-show-avatars="0" data-show-time="0" data-show-title="0" data-show-admin="0" data-excerpt-length="18"></ul>
      </section>

                </div>
            </div>

        </div>
    </body>
</html>